Current configuration : 4482 bytes
!
! Last configuration change at 16:40:46 UTC Tue Jan 13 2026 by rishi
!
version 16.9
service timestamps debug datetime msec
service timestamps log datetime msec
platform qfp utilization monitor load 80
no platform punt-keepalive disable-kernel-core
!
hostname WAN_ISP_Router
!
boot-start-marker
boot system flash:c1100-universalk9_ias.16.09.05.SPA.bin
boot-end-marker
!
!
no logging console
!
no aaa new-model
!
ip vrf MPLS_CLOUD
 rd 65000:1
!
ip name-server 8.8.8.8 8.8.4.4
ip domain name local
!
!
!
login on-success log
!
!
!
!
!
!
!
subscriber templating
!
!
!
!
!
multilink bundle-name authenticated
!
!
!
crypto pki trustpoint TP-self-signed-66984452
 enrollment selfsigned
 subject-name cn=IOS-Self-Signed-Certificate-66984452
 revocation-check none
 rsakeypair TP-self-signed-66984452
!
!
crypto pki certificate chain TP-self-signed-66984452
!
license udi pid C1111-4PWB sn FGL2424LHRA
license boot level securityk9
no license smart enable
!
diagnostic bootup level minimal
!
spanning-tree extend system-id
!
!
username rmoonilal privilege 15 secret 5 $1$ZJpl$PRmZBvq/DQA/dPfunDlqm1
username rishi privilege 15 secret 5 $1$2gxK$Si6UEtutQF.icQ7AZhOut/
username admin privilege 15 secret 5 $1$goPR$J6yUvxLY685ehoglkJWm/.
!
redundancy
 mode none
!
!
!
!
!
vlan internal allocation policy ascending
!
lldp run
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
interface Loopback0
 ip address 1.1.1.1 255.255.255.255
!
interface GigabitEthernet0/0/0
 no ip address
 negotiation auto
!
interface GigabitEthernet0/0/1
 no ip address
 shutdown
 negotiation auto
!
interface GigabitEthernet0/1/0
 description uplink to Branch_Office_Switch
 switchport trunk allowed vlan 10,20,100,110,120,820,920
 switchport mode trunk
!
interface GigabitEthernet0/1/1
 description Uplink to Eero
 switchport access vlan 100
 switchport mode access
!
interface GigabitEthernet0/1/2
 description Link_to_VM_Host
 switchport trunk native vlan 100
 switchport trunk allowed vlan 10,20,100,110,120,800,810,820,900,910,920
 switchport mode trunk
!
interface GigabitEthernet0/1/3
 description uplink to Manufacturing_Switch
 switchport trunk allowed vlan 10,20,50,100,110,120,810,910
 switchport mode trunk
!
interface Wlan-GigabitEthernet0/1/4
 description Configured by Netbox
 switchport mode trunk
!
interface Vlan1
 no ip address
!
interface Vlan100
 description uplink to eero
 ip address 192.168.50.1 255.255.255.0 secondary
 ip address 192.168.4.250 255.255.254.0
 ip nat outside
!
interface Vlan800
 description MPLS_Gateway_for_HQ
 ip vrf forwarding MPLS_CLOUD
 ip address 10.10.100.1 255.255.255.252
!
interface Vlan810
 description MPLS_Gateway_for_Manufacturing
 ip vrf forwarding MPLS_CLOUD
 ip address 10.10.10.1 255.255.255.252
!
interface Vlan820
 description MPLS_Gateway_for_Branch
 ip vrf forwarding MPLS_CLOUD
 ip address 10.10.20.1 255.255.255.252
!
interface Vlan900
 description ISP_Gateway_for_HQ
 ip address 172.16.100.1 255.255.255.252
 ip nat inside
!
interface Vlan910
 description ISP_Gateway_for_Manufacturing
 ip address 172.16.10.1 255.255.255.252
 ip nat inside
!
interface Vlan920
 description ISP_Gateway_for_Branch_Office
 ip address 172.16.20.1 255.255.255.252
 ip nat inside
!
router bgp 65000
 bgp log-neighbor-changes
 !
 address-family ipv4 vrf MPLS_CLOUD
  redistribute connected
  neighbor 10.10.10.2 remote-as 65002
  neighbor 10.10.10.2 activate
  neighbor 10.10.20.2 remote-as 65003
  neighbor 10.10.20.2 activate
  neighbor 10.10.100.2 remote-as 65001
  neighbor 10.10.100.2 activate
 exit-address-family
!
ip default-gateway 192.168.4.1
ip forward-protocol nd
ip http server
ip http authentication local
ip http secure-server
ip nat inside source list LAB_WAN_NETS interface Vlan100 overload
ip route 0.0.0.0 0.0.0.0 192.168.4.1
ip route 192.168.10.0 255.255.255.0 172.16.10.2
ip route 192.168.20.0 255.255.255.0 172.16.20.2
ip ssh time-out 30
ip ssh version 2
ip ssh server algorithm encryption aes256-ctr aes192-ctr aes128-ctr
!
!
ip access-list standard LAB_WAN_NETS
 permit 172.16.0.0 0.0.255.255
 permit 192.168.50.0 0.0.0.255
!
logging host 192.168.4.135
!
!
snmp-server group librenms v3 priv read LIBRE_VIEW
snmp-server group librenms v3 priv context vlan- match prefix
snmp-server view LIBRE_VIEW iso included
snmp-server location New York, NY [40.71628348664649, -73.9925606293523]
!
!
control-plane
!
!
line con 0
 exec-timeout 0 0
 transport input none
 stopbits 1
line vty 0 4
 exec-timeout 0 0
 login local
 transport input telnet ssh
!
!
!
!
!
!
end
